<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Details</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const product = urlParams.get('product');
            const price = urlParams.get('price');
            const detailsTitle = document.querySelector('.details-title');
            const addToCartButton = document.querySelector('.add-to-cart-button');
            const detailsImage = document.querySelector('.details-image');

            detailsTitle.textContent = product;

            // Set the appropriate image based on the product
            let imageSrc = '';
            switch(product) {
                case 'CHICKEN MANCHURIAN':
                    imageSrc = 'C:/Users/sebin/OneDrive/Desktop/demo - Copy/images/81ae2504410f2ba46fedc40c437d9238.jpg';
                    break;
                case 'ROYAL FALOODA':
                    imageSrc = 'C:/Users/sebin/OneDrive/Desktop/demo - Copy/images/81ae2504410f2ba46fedc40c437d9238.jpg';
                    break;
                case 'cream kunafa':
                    imageSrc ='C:/Users/sebin/OneDrive/Desktop/demo - Copy/images/th.jpg' ;
                    break;
                case 'ANOTHER DISH':
                    imageSrc = 'path/to/another/dish/image.jpg';
                    break;
                // Add more cases for other dishes
                default:
                    imageSrc = 'path/to/temporary/image.jpg'; // Temporary image for other dishes
            }
            detailsImage.src = imageSrc;

            function updateButtonState() {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.product === product);

                if (existingItem) {
                    addToCartButton.textContent = 'Added';
                } else {
                    addToCartButton.textContent = 'Add to Cart';
                }
            }

            addToCartButton.addEventListener('click', function() {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.product === product);

                if (existingItem) {
                    // Remove item from cart
                    cart = cart.filter(item => item.product !== product);
                    addToCartButton.textContent = 'Add to Cart';
                } else {
                    // Add item to cart
                    cart.push({ product, price: parseFloat(price), quantity: 1 });
                    addToCartButton.textContent = 'Added';
                }

                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
            });

            function updateCartCount() {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                document.querySelector('.cart-count').textContent = cart.length;
            }

            updateButtonState();
            updateCartCount();
        });
    </script>
</head>
<body class="details-page">
    <h1 class="details-title"></h1>
    <div class="details-box">
        <img class="details-image" alt="Dish Image">
        <p>Description of the product.</p>
    </div>
    <button class="add-to-cart-button">Add to Cart</button>
    <div class="cart-box" onclick="window.location.href='cart.html'">
        <span>Cart</span>
        <div class="cart-count">0</div>
    </div>
    <div class="home-box" onclick="window.location.href='index.html'">
        <span>Home</span>
    </div>
   

</body>
</html>
